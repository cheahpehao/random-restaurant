<!DOCTYPE html>
<html>
<head>
    <!-- Bootstrap css -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
 
</head>
<body>
    <div>
        <nav class="nav">
        <a class="nav-link" href="/">Show restaurant</a>  
        <a class="nav-link" href="/add">Add restaurant</a>
        <a class="nav-link" href="/random">Random a restaurnt</a>
        </nav>
      </div>
    <div>
        <h1 class="display-4" style="text-align: center; margin: auto">Add Restaurant </h1>
        <p id="result" style="text-align:center; margin: auto"></p>
        <br>
    </div>
    <form method="POST" style="margin:auto 25%" id="addRestaurant" action="/submit">
        <div class="form-group">
            <input name="name" class="form-control" placeholder="Restaurant Name" autocomplete="name">
           
        </div>
        <div class="form-group">
            <input name="businessHour" class="form-control" placeholder="opening hours - closing hours. eg. 8am to 10pm" autocomplete="work">
        </div>
        <div class="form-group">
            <input name="address" class="form-control" placeholder="Full address" autocomplete="address-level1">
        </div>
        <div class="form-group">
            <input name="location" class="form-control"  placeholder="Area of the restaunt. Eg. Bangsar, Kepong, Jinjang " autocomplete="address-level4">
        </div>
        <button type="submit" class="btn btn-primary mb-2" value="submit">Add Restaurant</button>
    </form>

<!-- Bootstrap Javascript -->
<script
src="https://code.jquery.com/jquery-3.3.1.js"
integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<!-- Add restaurant script -->
<script>
    var obj = [] 
    
    $('#addRestaurant').on('submit',function(e){
        e.preventDefault();
        var data = $('#addRestaurant').serialize().split('&');
        console.log(data);
        for (key = 0; key < data.length;key++){
            obj[data[key].split('=')[0]] = data[key].split('=')[1]; 
        };
        console.log(obj);
        $.ajax({
            type:'POST',
            data: JSON.stringify(obj),
            contentType: 'application/JSON',
            dataType: 'json',
            url: '/submit',
            success: function(res){
                console.log(res);
                console.log(JSON.stringify(data));
            }
        })

    })
    
</script>
</body>
</html>